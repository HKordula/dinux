<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DINUX Admin</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
    <!-- Navbar Section -->
    <nav class="navbar">
        <div class="navbar__container">
            <a href="../index.html" id="navbar__logo">DINUX</a>
            <div class="navbar__toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar__menu">
                <li class="navbar__item">
                    <a href="../index.html" class="navbar__links">
                        Home
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="/aoubt/about.html" class="navbar__links">
                        About 
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="/test1/test1.html" class="navbar__links">
                        Test
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="/admin/index.html" class="navbar__links">
                        Admin
                    </a>
                </li>
                <li class="navbar__btn">
                    <a href="./signin/index.html" class="button">
                        Sign In
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
     <div class="main">
        <div class="main__img--container">
          <img src="../assets/images/main-img.jpg" alt="pic" id="main__img">
        </div>
          <div class="main__container">
            <div class="main__content">
                <h1>ADMIN PANEL</h1>
                <h2>Welcome, <span id="admin-username">Admin</span></h2> <!-- TODO: Replace with dynamic username --> 
                <p>Manage users, dinosaurs, and votes below.</p>
                <button class="main__btn">
                    <a href="/">Dinos</a>
                </button>
                <button class="main__btn">
                    <a href="/">Users</a>
                </button>
                <button class="main__btn">
                    <a href="/">Votes</a>
                </button>
            </div>
          </div>
     </div>

     <!-- Dinosaur Table Start -->
    <h2>Dinosaur List</h2>
    <table border="1" style="width:100%; border-collapse:collapse;">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Species</th>
                <th>Description</th>
                <th>Era</th>
                <th>Diet</th>
                <th>Size</th>
                <th>Weight</th>
                <th>Categories</th>
                <th>Environments</th>
                <th>Image</th>
            </tr>
        </thead>
        <tbody id="dino-table-body">
            
        </tbody>
    </table>

     <!-- Footer Section -->
      <div class="footer__container">
        <div class="footer__links">
            <div class="footer__link--wrapper">
                <div class="footer__link--items">
                    <h2>About us</h2>
                    <a href="/">How it works</a>
                    <a href="/">Testimonals</a>
                    <a href="/">Careers</a>
                    <a href="/">Investments</a>
                    <a href="/">Terms of Service</a>
                </div>
                <div class="footer__link--items">
                    <h2>About us</h2>
                    <a href="/">How it works</a>
                    <a href="/">Testimonals</a>
                    <a href="/">Careers</a>
                    <a href="/">Investments</a>
                </div>
                <div class="footer__link--items">
                    <h2>About us</h2>
                    <a href="/">How it works</a>
                    <a href="/">Testimonals</a>
                    <a href="/">Careers</a>
                    <a href="/">Investments</a>
                    <a href="/">Terms of Service</a>
                </div>
                <div class="footer__link--items">
                    <h2>About us</h2>
                    <a href="/">Facebook</a>
                    <a href="/">Twitter</a>
                    <a href="/">Youtube</a>
                    <a href="/">Linkedin</a>
                </div>
            </div>
        </div>
            <div class="social__media">
                <div class="social__media--wrap">
                    <div class="footer__logo">
                        <a href="/" id="footer__logo" class="fas fagem">
                        </i>DINUX
                        </a>
                    </div>
                    <p class="website__rights">DINUX 2025 All rights reserved</p>
                    <div class="social__icons">
                        <a href="/" class="social__icon--link" target="_blank">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="/" class="social__icon--link" target="_blank">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="/" class="social__icon--link" target="_blank">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="/" class="social__icon--link" target="_blank">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
            </div>
      </div>

    <script src="./assets/js/main.js"></script>
</body>
</html>

<script>
document.addEventListener('DOMContentLoaded', function() {
    fetch('http://localhost:3000/api/dinos')
        .then(response => response.json())
        .then(data => {
            const dinos = Array.isArray(data) ? data : data.dinos;
            const tbody = document.getElementById('dino-table-body');
            tbody.innerHTML = '';
            if (Array.isArray(dinos)) {
                dinos.forEach(dino => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${dino.id}</td>
                        <td>${dino.name}</td>
                        <td>${dino.species}</td>
                        <td>${dino.description}</td>
                        <td>${dino.era}</td>
                        <td>${dino.diet}</td>
                        <td>${dino.size}</td>
                        <td>${dino.weight}</td>
                        <td>${Array.isArray(dino.categories) ? dino.categories.join(', ') : dino.categories}</td>
                        <td>${Array.isArray(dino.environments) ? dino.environments.join(', ') : dino.environments}</td>
                        <td><img src="${dino.image}" alt="${dino.name}" width="60"></td>
                    `;
                    tbody.appendChild(row);
                });
            } else {
                tbody.innerHTML = `<tr><td colspan="11">No data found</td></tr>`;
            }
        })
        .catch(error => {
            document.getElementById('dino-table-body').innerHTML = `<tr><td colspan="11">Failed to load data</td></tr>`;
            console.error('Error fetching dinos:', error);
        });
});
</script>